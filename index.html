<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MenuLooper | 1週間の献立</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="background-shape" aria-hidden="true"></div>
    <div class="background-shape background-shape--alt" aria-hidden="true"></div>

    <div class="page">
      <section class="landing" id="landing" aria-labelledby="landingTitle">
        <div class="landing__hero">
          <p class="eyebrow">WEEKLY DINNER PLANNER</p>
          <h1 id="landingTitle">MenuLooper</h1>
          <p class="landing__lead">
            献立ページがメイン。レシピDBは必要なときだけ使う追加要素。
          </p>
          <div class="landing__actions">
            <button type="button" class="button--primary" id="enterApp">
              献立へ
            </button>
            <button type="button" class="button--ghost" id="enterRecipes">
              レシピDBを開く
            </button>
            <p class="landing__note">入力内容はこの端末だけに保存されます。</p>
          </div>
        </div>
        <div class="landing__overview">
          <div class="landing__grid">
            <article class="landing__card">
              <h2>レシピDBは補助</h2>
              <p>必要に応じてURLと食材を登録。</p>
            </article>
            <article class="landing__card">
              <h2>献立がトップ</h2>
              <p>料理名を入力して献立を決定。</p>
            </article>
            <article class="landing__card">
              <h2>自動の買い物リスト</h2>
              <p>選んだレシピから必要な食材を集計。</p>
            </article>
            <article class="landing__card">
              <h2>週単位で保存</h2>
              <p>週を切り替えると記録が復元される。オフラインでも安心。</p>
            </article>
          </div>
          <div class="landing__steps">
            <h2>使い方は4ステップ</h2>
            <ol class="steps">
              <li>献立ページを開く</li>
              <li>料理名を入力する</li>
              <li>必要ならレシピDBを編集</li>
              <li>食材リストを確認</li>
            </ol>
          </div>
        </div>
      </section>

      <section class="app" id="app" hidden>
        <div class="app__nav">
          <button type="button" class="button--ghost button--small" id="backToLanding">
            使い方を見る
          </button>
          <button type="button" class="button--ghost button--small" id="openRecipesFromApp">
            レシピDBへ
          </button>
        </div>

        <header class="hero">
          <div class="hero__text">
            <p class="eyebrow">DINNER ONLY</p>
            <h1>1週間の晩ご飯</h1>
            <p class="hero__lead">
              料理名を入力して選び、買い物リストは自動生成。
            </p>
          </div>
          <div class="hero__meta">
            <div class="meta__item">
              <span class="meta__label">保存</span>
              <span class="meta__value">この端末のローカルストレージ</span>
            </div>
            <div class="meta__item">
              <span class="meta__label">週の開始</span>
              <span class="meta__value">月曜起点</span>
            </div>
            <div class="meta__item">
              <span class="meta__label">買い物</span>
              <span class="meta__value">選択レシピから自動生成</span>
            </div>
            <div class="meta__item">
              <span class="meta__label">レシピDB</span>
              <span class="meta__value">URL + 食材で管理</span>
            </div>
          </div>
        </header>

        <section class="controls">
          <div class="controls__left">
            <label class="control" for="weekStart">
              <span>週の開始日</span>
              <input id="weekStart" type="date" />
            </label>
            <div class="controls__buttons">
              <button type="button" id="prevWeek">前週</button>
              <button type="button" class="button--primary" id="thisWeek">今週</button>
              <button type="button" id="nextWeek">次週</button>
            </div>
          </div>
          <div class="controls__right">
            <div class="week-range" id="weekRange"></div>
            <div class="save-status" id="saveStatus">保存済み</div>
            <button type="button" class="button--ghost" id="clearWeek">週をクリア</button>
          </div>
        </section>

        <main class="app-content">
          <section class="week-grid" id="weekGrid" aria-live="polite"></section>

          <section class="checklist" aria-labelledby="shoppingTitle">
            <div class="checklist__header">
              <div>
                <p class="eyebrow">SHOPPING LIST</p>
                <h2 id="shoppingTitle">食材リスト</h2>
                <p class="checklist__lead">
                  選択したレシピを人数に合わせて集計します。
                </p>
              </div>
            </div>
            <ul class="checklist__list" id="shoppingList"></ul>
            <p class="checklist__empty" id="shoppingEmpty">
              レシピを選択すると買い物リストが表示されます。
            </p>
          </section>
        </main>

        <footer class="footer">
          <p>
            入力内容は自動保存されます。週を切り替えると、その週の記録と
            食材リストが呼び出されます。
          </p>
        </footer>
      </section>

      <div class="modal" id="recipeModal" hidden>
        <div class="modal__backdrop" id="recipeModalBackdrop"></div>
        <div
          class="modal__panel"
          role="dialog"
          aria-modal="true"
          aria-labelledby="recipeModalTitle"
        >
          <div class="modal__header">
            <h2 id="recipeModalTitle">レシピを登録</h2>
            <button
              type="button"
              class="button--ghost button--small"
              id="recipeModalClose"
            >
              閉じる
            </button>
          </div>
          <form id="recipeModalForm" class="modal__body">
            <label class="form-field" for="recipeModalName">
              <span>レシピ名</span>
              <input id="recipeModalName" type="text" required />
            </label>
            <label class="form-field" for="recipeModalUrl">
              <span>URL（任意）</span>
              <input id="recipeModalUrl" type="url" placeholder="https://..." />
            </label>
            <label class="form-field" for="recipeModalServings">
              <span>基準人数</span>
              <select id="recipeModalServings">
                <option value="1">1人前</option>
                <option value="2" selected>2人前</option>
              </select>
            </label>
            <div class="form-field">
              <span>食材（1行ごとに追加）</span>
              <div class="ingredient-list__header">
                <span>食材名</span>
                <span>数量</span>
                <span>g</span>
                <span aria-hidden="true"></span>
              </div>
              <div class="ingredient-list" id="recipeModalIngredientList"></div>
              <button
                type="button"
                class="button--ghost button--small"
                id="recipeModalIngredientAdd"
              >
                + 食材を追加
              </button>
            </div>
            <div class="recipe-form__actions">
              <button type="submit" class="button--primary">登録</button>
              <button type="button" class="button--ghost" id="recipeModalCancel">
                キャンセル
              </button>
            </div>
          </form>
        </div>
      </div>

      <section class="recipe-db" id="recipes" hidden>
        <div class="app__nav">
          <button
            type="button"
            class="button--ghost button--small"
            id="backToLandingFromRecipes"
          >
            使い方を見る
          </button>
          <button
            type="button"
            class="button--ghost button--small"
            id="openAppFromRecipes"
          >
            献立へ戻る
          </button>
        </div>

        <header class="hero">
          <div class="hero__text">
            <p class="eyebrow">RECIPE DATABASE</p>
            <h1>レシピDB</h1>
            <p class="hero__lead">
              URLと食材を登録し、献立入力の候補に出す。
            </p>
          </div>
          <div class="hero__meta">
            <div class="meta__item">
              <span class="meta__label">保存</span>
              <span class="meta__value">この端末のローカルストレージ</span>
            </div>
            <div class="meta__item">
              <span class="meta__label">検索</span>
              <span class="meta__value">料理名 / 食材名</span>
            </div>
            <div class="meta__item">
              <span class="meta__label">連携</span>
              <span class="meta__value">まずは手動登録</span>
            </div>
          </div>
        </header>

        <main class="recipe-db__content">
          <section class="recipe-form">
            <h2 id="recipeFormTitle">レシピを登録</h2>
            <form id="recipeForm" class="recipe-form__body">
              <label class="form-field" for="recipeName">
                <span>レシピ名</span>
                <input id="recipeName" type="text" required />
              </label>
              <label class="form-field" for="recipeUrl">
                <span>URL（任意）</span>
                <input id="recipeUrl" type="url" placeholder="https://..." />
              </label>
              <label class="form-field" for="recipeServings">
                <span>基準人数</span>
                <select id="recipeServings">
                  <option value="1">1人前</option>
                  <option value="2" selected>2人前</option>
                </select>
              </label>
              <div class="form-field">
                <span>食材（1行ごとに追加）</span>
                <div class="ingredient-list__header">
                  <span>食材名</span>
                  <span>数量</span>
                  <span>g</span>
                  <span aria-hidden="true"></span>
                </div>
                <div class="ingredient-list" id="ingredientList"></div>
                <button
                  type="button"
                  class="button--ghost button--small"
                  id="ingredientAdd"
                >
                  + 食材を追加
                </button>
              </div>
              <div class="recipe-form__actions">
                <button type="submit" class="button--primary" id="recipeSave">
                  登録
                </button>
                <button type="button" class="button--ghost" id="recipeCancel" hidden>
                  キャンセル
                </button>
              </div>
            </form>
          </section>

          <section class="recipe-list">
            <div class="recipe-list__header">
              <h2>レシピ一覧</h2>
              <input
                id="recipeSearch"
                type="search"
                placeholder="料理名・食材で検索"
                autocomplete="off"
              />
            </div>
            <div class="recipe-list__items" id="recipeList"></div>
            <p class="recipe-list__empty" id="recipeEmpty">
              まだレシピがありません。
            </p>
          </section>
        </main>
      </section>
    </div>

    <script src="app.js"></script>
  </body>
</html>
