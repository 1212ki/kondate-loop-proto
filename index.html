<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>kondate loop</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Inter:wght@600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- 0. オンボーディング -->
    <div id="screen-onboarding" class="screen active">
      <div class="onboarding-container">
        <div class="onboarding-illustration">🍳</div>
        <h1 class="onboarding-title">何作ろう？</h1>
        <p class="onboarding-description">
          レシピをセットにして、<br>
          リストから選んで作る。<br>
          それだけ。
        </p>
        <div class="onboarding-steps">
          <div class="onboarding-step">
            <span class="step-icon">1</span>
            <span class="step-text">セットを選ぶ</span>
          </div>
          <div class="onboarding-step">
            <span class="step-icon">2</span>
            <span class="step-text">買い物する</span>
          </div>
          <div class="onboarding-step">
            <span class="step-icon">3</span>
            <span class="step-text">リストから選んで作る</span>
          </div>
        </div>
        <button class="btn-primary" onclick="App.startApp()">はじめる</button>
      </div>
    </div>

    <!-- 1. レシピSet選択（メイン画面） -->
    <div id="screen-main" class="screen">
      <header class="header header-main">
        <div class="header-logo">
          <span class="logo-icon">🍽️</span>
          <span class="logo-text">kondate loop</span>
        </div>
        <div class="header-actions-single">
          <button class="header-action has-badge" onclick="App.showFridge()">
            <span class="material-icons-round">kitchen</span>
            <span class="action-badge" id="badge-fridge-main"></span>
          </button>
        </div>
      </header>

      <main class="main-content with-nav">
        <h2 class="screen-title">こんだて表</h2>
        <!-- 買い物リストボタン（空でない時のみ表示） -->
        <div id="shopping-list-button" class="shopping-list-button hidden">
          <button class="btn-shopping-list" onclick="App.showShoppingPopup()">
            <span class="material-icons-round">shopping_cart</span>
            <span>買い物リスト</span>
            <span class="shopping-count" id="shopping-count-main"></span>
          </button>
        </div>

        <!-- 現在のセットがない場合 -->
        <div id="empty-state" class="empty-state">
          <div class="empty-illustration">🃏</div>
          <p class="empty-text">献立がありません</p>
          <p class="empty-subtext">セットを選択してください</p>
          <button class="btn-primary" onclick="App.showScreen('set-select')">
            セットを選ぶ
          </button>
        </div>

        <!-- 現在のセットがある場合 -->
        <div id="current-pool" class="current-pool hidden">
          <div class="pool-header">
            <span class="pool-label" id="current-set-name">セット名</span>
            <button class="btn-text" onclick="App.clearCurrentSet()">リセット</button>
          </div>
          <div class="scroll-hint-container">
            <div class="cards-container" id="pool-cards">
              <!-- カードがここに入る -->
            </div>
            <div class="scroll-hint"></div>
          </div>
          <div class="pool-actions">
            <button class="btn-secondary" onclick="App.showScreen('set-select')">
              セットを変える
            </button>
          </div>
        </div>

        <!-- 次の献立 -->
        <div id="next-set-section" class="next-set-section hidden">
          <div class="section-header">
            <span class="section-label">次の献立</span>
          </div>
          <div id="next-set-content">
            <!-- 次の献立の内容 -->
          </div>
        </div>

        <!-- 履歴 -->
        <div id="history-section" class="history-section hidden">
          <button class="history-toggle" onclick="App.toggleHistory()">
            <span class="material-icons-round" id="history-toggle-icon">expand_more</span>
            <span>過去の献立</span>
            <span class="history-count" id="history-count">0</span>
          </button>
          <div id="history-list" class="history-list hidden">
            <!-- 履歴がここに入る -->
          </div>
        </div>
      </main>

      <nav class="bottom-nav">
        <button class="nav-item active" onclick="App.showScreen('main')">
          <span class="material-icons-round">calendar_view_week</span>
          <span class="nav-label">こんだて表</span>
        </button>
        <button class="nav-item" onclick="App.showScreen('recipes')">
          <span class="material-icons-round">menu_book</span>
          <span class="nav-label">レシピ帳</span>
        </button>
        <button class="nav-item" onclick="App.showScreen('public')">
          <span class="material-icons-round">explore</span>
          <span class="nav-label">レシピカタログ</span>
        </button>
      </nav>
    </div>

    <!-- 1.5 セット選択画面 -->
    <div id="screen-set-select" class="screen">
      <header class="header header-sub">
        <button class="header-back" onclick="App.goBack()">
          <span class="material-icons-round">arrow_back</span>
        </button>
        <div class="header-logo">
          <span class="logo-icon">🍽️</span>
          <span class="logo-text">kondate loop</span>
        </div>
      </header>

      <main class="main-content with-header">
        <h2 class="screen-title">セット選択</h2>

        <div class="tab-switcher">
          <button class="tab-btn active" data-tab="set-my" onclick="App.switchSetSelectTab('my')">レシピ帳</button>
          <button class="tab-btn" data-tab="set-public" onclick="App.switchSetSelectTab('public')">レシピカタログ</button>
        </div>

        <div id="set-select-my" class="tab-content">
          <div class="set-list" id="set-list-my">
            <!-- 自分のセット一覧がここに入る -->
          </div>

          <div class="create-set-prompt">
            <p>好きなレシピでセットを作る？</p>
            <button class="btn-secondary" onclick="App.showScreen('set-create')">
              <span class="material-icons-round">add</span>
              新しいセットを作る
            </button>
          </div>
        </div>

        <div id="set-select-public" class="tab-content hidden">
          <div class="set-list" id="set-list-public">
            <!-- 公開セット一覧がここに入る -->
          </div>
        </div>
      </main>
    </div>

    <!-- 2. レシピSet作成画面 -->
    <div id="screen-set-create" class="screen">
      <header class="header header-sub">
        <button class="header-back" onclick="App.goBack()">
          <span class="material-icons-round">arrow_back</span>
        </button>
        <div class="header-logo">
          <span class="logo-icon">🍽️</span>
          <span class="logo-text">kondate loop</span>
        </div>
      </header>

      <main class="main-content with-header">
        <h2 class="screen-title">セットを作る</h2>

        <!-- 既存のセットから始めるオプション -->
        <div class="copy-from-existing">
          <button class="btn-copy-from-set" onclick="App.showSetTemplateSelector()">
            <span class="material-icons-round">content_copy</span>
            既存のセットから編集
          </button>
        </div>

        <div class="set-create-form">
          <div class="form-group">
            <label class="form-label">セットの名前</label>
            <input type="text" id="set-name-input" class="form-input" placeholder="例: 定番おうちごはん">
          </div>

          <div class="form-group">
            <label class="form-label">レシピを選択（1〜7品）</label>
            <div class="selected-recipes" id="selected-recipes">
              <p class="empty-hint">まだ選んでないよ</p>
            </div>
            <button class="btn-add-recipe" onclick="App.showRecipeSelector()">
              <span class="material-icons-round">add</span>
              レシピを追加
            </button>
          </div>
        </div>

        <div class="form-actions">
          <button class="btn-primary" id="btn-save-set" onclick="App.saveNewSet()" disabled>
            このセットを保存
          </button>
        </div>
      </main>
    </div>

    <!-- 3. レシピ登録画面 -->
    <div id="screen-recipe-add" class="screen">
      <header class="header header-sub">
        <button class="header-back" onclick="App.goBackFromRecipeAdd()">
          <span class="material-icons-round">arrow_back</span>
        </button>
        <div class="header-logo">
          <span class="logo-icon">🍽️</span>
          <span class="logo-text">kondate loop</span>
        </div>
      </header>

      <main class="main-content with-header">
        <h2 class="screen-title">レシピを追加</h2>
        <!-- 反映エリア -->
        <div class="import-area">
          <label class="form-label">URLまたはテキストから取り込み</label>
          <textarea id="import-input" class="import-textarea" placeholder="レシピのURLやテキストを貼り付け"></textarea>
          <button class="btn-secondary btn-import" onclick="App.applyFromInput()">
            <span class="material-icons-round">auto_fix_high</span>
            反映する
          </button>
        </div>

        <div class="import-divider"></div>

        <div class="recipe-add-form">
          <div class="form-group">
            <label class="form-label">料理名</label>
            <input type="text" id="recipe-name-input" class="form-input" placeholder="例: 豚の生姜焼き">
          </div>

          <div class="form-group">
            <label class="form-label">何人前？</label>
            <div class="servings-selector">
              <button class="serving-btn" data-servings="1">1人前</button>
              <button class="serving-btn active" data-servings="2">2人前</button>
              <button class="serving-btn" data-servings="4">4人前</button>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">材料</label>
            <div class="ingredients-list" id="ingredients-list">
              <!-- 材料入力欄 -->
            </div>
            <button class="btn-add-ingredient" onclick="App.addIngredientRow()">
              <span class="material-icons-round">add</span>
              材料を追加
            </button>
          </div>

          <div class="form-group">
            <label class="form-label">作り方</label>
            <div class="steps-list" id="steps-list">
              <!-- 手順入力欄 -->
            </div>
            <button class="btn-add-ingredient" onclick="App.addStepRow()">
              <span class="material-icons-round">add</span>
              手順を追加
            </button>
          </div>

          <div class="form-group">
            <label class="form-label">URL（あれば）</label>
            <input type="url" id="recipe-url-input" class="form-input" placeholder="https://...">
          </div>

          <div class="form-group">
            <label class="form-label">タグ</label>
            <div class="tags-selector" id="tags-selector">
              <button class="tag-btn" data-tag="和食">和食</button>
              <button class="tag-btn" data-tag="洋食">洋食</button>
              <button class="tag-btn" data-tag="中華">中華</button>
              <button class="tag-btn" data-tag="時短">時短</button>
              <button class="tag-btn" data-tag="作り置き">作り置き</button>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button class="btn-primary" onclick="App.saveRecipe()">
            追加する
          </button>
        </div>
      </main>
    </div>

    <!-- 4. レシピ一覧画面（わたしの） -->
    <div id="screen-recipes" class="screen">
      <header class="header header-main">
        <div class="header-logo">
          <span class="logo-icon">🍽️</span>
          <span class="logo-text">kondate loop</span>
        </div>
      </header>

      <main class="main-content with-nav">
        <div class="content-wrapper">
          <h2 class="screen-title">レシピ帳</h2>
          <!-- 検索バー -->
          <div class="search-box" style="margin-bottom: var(--space-md);">
            <span class="material-icons-round">search</span>
            <input type="text" id="recipe-search" class="search-input" placeholder="キーワードで検索" oninput="App.filterMyItems()">
          </div>
          <!-- レシピ/セット タブ -->
          <div class="tab-switcher">
            <button class="tab-btn active" data-tab="my-recipes" onclick="App.switchMyTab('recipes')">レシピ</button>
            <button class="tab-btn" data-tab="my-sets" onclick="App.switchMyTab('sets')">セット</button>
          </div>

          <!-- カテゴリ + リストのエリア -->
          <div class="category-list-area">
            <!-- 左: カテゴリサイドバー（縦並び） -->
            <aside class="category-sidebar-inline" id="my-category-sidebar">
              <button class="category-tab active" data-category="all" onclick="App.selectMyCategory('all')">
                <span>全て</span>
              </button>
              <button class="category-tab" data-category="和食" onclick="App.selectMyCategory('和食')">
                <span>和食</span>
              </button>
              <button class="category-tab" data-category="洋食" onclick="App.selectMyCategory('洋食')">
                <span>洋食</span>
              </button>
              <button class="category-tab" data-category="中華" onclick="App.selectMyCategory('中華')">
                <span>中華</span>
              </button>
              <button class="category-tab" data-category="時短" onclick="App.selectMyCategory('時短')">
                <span>時短</span>
              </button>
            </aside>

            <!-- 右: リストエリア -->
            <div class="list-area">
              <!-- レシピタブ -->
              <div id="my-recipes-tab" class="tab-content">
                <div class="recipe-list" id="recipe-list">
                  <!-- レシピ一覧 -->
                </div>
                <div id="recipes-empty" class="empty-state hidden">
                  <div class="empty-illustration">📝</div>
                  <p class="empty-text">レシピがありません</p>
                  <p class="empty-subtext">右下の＋から追加できます</p>
                </div>
              </div>

              <!-- セットタブ -->
              <div id="my-sets-tab" class="tab-content hidden">
                <div class="set-list" id="my-set-list">
                  <!-- セット一覧 -->
                </div>
                <div id="my-sets-empty" class="empty-state hidden">
                  <div class="empty-illustration">📦</div>
                  <p class="empty-text">セットがありません</p>
                  <p class="empty-subtext">右下の＋から作成できます</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- FAB（Floating Action Button） -->
        <button class="fab" id="fab-my" onclick="App.showFabMenu()">
          <span class="material-icons-round">add</span>
        </button>

        <!-- FABメニュー -->
        <div class="fab-menu hidden" id="fab-menu">
          <button class="fab-menu-item" onclick="App.showScreen('set-create')">
            <span class="material-icons-round">library_add</span>
            <span>セットを作成</span>
          </button>
          <button class="fab-menu-item" onclick="App.showScreen('recipe-add')">
            <span class="material-icons-round">note_add</span>
            <span>レシピを追加</span>
          </button>
        </div>
      </main>

      <nav class="bottom-nav">
        <button class="nav-item" onclick="App.showScreen('main')">
          <span class="material-icons-round">calendar_view_week</span>
          <span class="nav-label">こんだて表</span>
        </button>
        <button class="nav-item active" onclick="App.showScreen('recipes')">
          <span class="material-icons-round">menu_book</span>
          <span class="nav-label">レシピ帳</span>
        </button>
        <button class="nav-item" onclick="App.showScreen('public')">
          <span class="material-icons-round">explore</span>
          <span class="nav-label">レシピカタログ</span>
        </button>
      </nav>
    </div>

    <!-- 5. 買い物リスト画面 -->
    <div id="screen-shopping" class="screen">
      <header class="header header-sub">
        <button class="header-back" onclick="App.goBack()">
          <span class="material-icons-round">arrow_back</span>
        </button>
        <div class="header-logo">
          <span class="logo-icon">🍽️</span>
          <span class="logo-text">kondate loop</span>
        </div>
      </header>

      <main class="main-content with-header">
        <h2 class="screen-title">買うもの</h2>
        <div id="shopping-list" class="shopping-list">
          <!-- 買い物リスト -->
        </div>

        <div id="shopping-actions" class="shopping-actions hidden">
          <button id="btn-purchase" class="btn-primary" onclick="App.purchaseChecked()" disabled>
            <span class="material-icons-round">done</span>
            買った
          </button>
        </div>

        <div id="shopping-empty" class="empty-state">
          <div class="empty-illustration">🛒</div>
          <p class="empty-text">買うものはないよ</p>
          <p class="empty-subtext">セットを選ぶと出てくるよ</p>
        </div>
      </main>
    </div>

    <!-- 6. Public画面（みんなの） -->
    <div id="screen-public" class="screen">
      <header class="header header-main">
        <div class="header-logo">
          <span class="logo-icon">🍽️</span>
          <span class="logo-text">kondate loop</span>
        </div>
      </header>

      <main class="main-content with-nav">
        <div class="content-wrapper">
          <h2 class="screen-title">レシピカタログ</h2>
          <!-- 検索バー -->
          <div class="search-box" style="margin-bottom: var(--space-md);">
            <span class="material-icons-round">search</span>
            <input type="text" id="public-search" class="search-input" placeholder="キーワードで検索" oninput="App.filterPublicItems()">
          </div>
          <!-- レシピ/セット タブ -->
          <div class="tab-switcher">
            <button class="tab-btn active" data-tab="public-recipes" onclick="App.switchPublicTab('recipes')">レシピ</button>
            <button class="tab-btn" data-tab="public-sets" onclick="App.switchPublicTab('sets')">セット</button>
          </div>

          <!-- カテゴリ + リストのエリア -->
          <div class="category-list-area">
            <!-- 左: カテゴリサイドバー（縦並び） -->
            <aside class="category-sidebar-inline" id="public-category-sidebar">
              <button class="category-tab active" data-category="all" onclick="App.selectPublicCategory('all')">
                <span>全て</span>
              </button>
              <button class="category-tab" data-category="和食" onclick="App.selectPublicCategory('和食')">
                <span>和食</span>
              </button>
              <button class="category-tab" data-category="洋食" onclick="App.selectPublicCategory('洋食')">
                <span>洋食</span>
              </button>
              <button class="category-tab" data-category="中華" onclick="App.selectPublicCategory('中華')">
                <span>中華</span>
              </button>
              <button class="category-tab" data-category="韓国" onclick="App.selectPublicCategory('韓国')">
                <span>韓国</span>
              </button>
              <button class="category-tab" data-category="時短" onclick="App.selectPublicCategory('時短')">
                <span>時短</span>
              </button>
            </aside>

            <!-- 右: リストエリア -->
            <div class="list-area">
              <!-- レシピタブ -->
              <div id="public-recipes-tab" class="tab-content">
                <div class="public-recipe-list" id="public-recipe-list">
                  <!-- 公開レシピ一覧 -->
                </div>
              </div>

              <!-- セットタブ -->
              <div id="public-sets-tab" class="tab-content hidden">
                <div class="public-set-list" id="public-set-list">
                  <!-- 公開セット一覧（料理家のセット等） -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>

      <nav class="bottom-nav">
        <button class="nav-item" onclick="App.showScreen('main')">
          <span class="material-icons-round">calendar_view_week</span>
          <span class="nav-label">こんだて表</span>
        </button>
        <button class="nav-item" onclick="App.showScreen('recipes')">
          <span class="material-icons-round">menu_book</span>
          <span class="nav-label">レシピ帳</span>
        </button>
        <button class="nav-item active" onclick="App.showScreen('public')">
          <span class="material-icons-round">explore</span>
          <span class="nav-label">レシピカタログ</span>
        </button>
      </nav>
    </div>

    <!-- レシピ選択モーダル -->
    <div id="modal-recipe-selector" class="modal hidden">
      <div class="modal-backdrop" onclick="App.closeModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">レシピ選択</h2>
          <button class="modal-close" onclick="App.closeModal()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- タブ切替 -->
          <div class="tab-switcher" id="selector-tab-switcher">
            <button class="tab-btn active" data-tab="my" onclick="App.switchSelectorTab('my')">レシピ帳</button>
            <button class="tab-btn" data-tab="public" onclick="App.switchSelectorTab('public')">レシピカタログ</button>
          </div>
          <div class="search-box">
            <span class="material-icons-round">search</span>
            <input type="text" id="modal-recipe-search" class="search-input" placeholder="レシピを探す" oninput="App.filterSelectorRecipes()">
          </div>
          <div class="modal-recipe-list" id="modal-recipe-list">
            <!-- 選択可能なレシピ -->
          </div>
          <button class="btn-text" onclick="App.showScreen('recipe-add'); App.closeModal();">
            <span class="material-icons-round">add</span>
            新しいレシピを追加
          </button>
        </div>
      </div>
    </div>

    <!-- セットテンプレート選択モーダル -->
    <div id="modal-set-template" class="modal hidden">
      <div class="modal-backdrop" onclick="App.closeSetTemplateModal()"></div>
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h2 class="modal-title">セットを選択</h2>
          <button class="modal-close" onclick="App.closeSetTemplateModal()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body">
          <p class="modal-guide-text">既存のセットをもとに新しいセットを作成します</p>
          <div class="set-template-list" id="set-template-list">
            <!-- セット一覧がここに入る -->
          </div>
        </div>
      </div>
    </div>

    <!-- レシピ詳細モーダル -->
    <div id="modal-recipe-detail" class="modal hidden">
      <div class="modal-backdrop" onclick="App.closeModal()"></div>
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h2 class="modal-title" id="detail-recipe-name">レシピ名</h2>
          <button class="modal-close" onclick="App.closeModal()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body" id="detail-recipe-body">
          <!-- レシピ詳細 -->
        </div>
      </div>
    </div>

    <!-- 冷蔵庫モーダル -->
    <div id="modal-fridge" class="modal hidden">
      <div class="modal-backdrop" onclick="App.closeModal()"></div>
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h2 class="modal-title">🧊 冷蔵庫</h2>
          <button class="modal-close" onclick="App.closeModal()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body" id="fridge-body">
          <!-- 冷蔵庫の中身 -->
        </div>
        <div class="modal-footer fridge-footer">
          <button class="btn-text-icon" onclick="App.showDeletedFridgeItems()">
            <span class="material-icons-round">history</span>
          </button>
          <button class="btn-primary" onclick="App.showAddFridgeItem()">
            <span class="material-icons-round">add</span>
            食材を追加
          </button>
        </div>
      </div>
    </div>

    <!-- 削除履歴モーダル -->
    <div id="modal-deleted-fridge" class="modal hidden">
      <div class="modal-backdrop" onclick="App.closeDeletedFridgeItems()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">削除した食材</h2>
          <button class="modal-close" onclick="App.closeDeletedFridgeItems()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body" id="deleted-fridge-body">
          <!-- 削除履歴 -->
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" onclick="App.closeDeletedFridgeItems()">戻る</button>
        </div>
      </div>
    </div>

    <!-- 食材追加モーダル -->
    <div id="modal-add-fridge" class="modal hidden">
      <div class="modal-backdrop" onclick="App.cancelAddFridgeItem()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">食材を追加</h2>
          <button class="modal-close" onclick="App.cancelAddFridgeItem()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="form-label">食材名</label>
            <input type="text" id="fridge-item-name" class="form-input" placeholder="例: 豚バラ肉">
          </div>
          <div class="form-row">
            <div class="form-group" style="flex: 1;">
              <label class="form-label">量</label>
              <input type="number" id="fridge-item-amount" class="form-input" placeholder="200" value="1">
            </div>
            <div class="form-group" style="flex: 1;">
              <label class="form-label">単位</label>
              <select id="fridge-item-unit" class="form-input">
                <option value="個">個</option>
                <option value="g">g</option>
                <option value="本">本</option>
                <option value="枚">枚</option>
                <option value="パック">パック</option>
                <option value="袋">袋</option>
                <option value="丁">丁</option>
                <option value="切れ">切れ</option>
                <option value="束">束</option>
                <option value="かけ">かけ</option>
              </select>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" onclick="App.cancelAddFridgeItem()">キャンセル</button>
          <button class="btn-primary" onclick="App.addFridgeItem()">追加する</button>
        </div>
      </div>
    </div>

    <!-- 冷蔵庫食材削除確認モーダル -->
    <div id="modal-confirm-delete-fridge" class="modal hidden">
      <div class="modal-backdrop" onclick="App.cancelDeleteFridgeItem()"></div>
      <div class="modal-content modal-small">
        <div class="modal-body" style="text-align: center; padding: 24px;">
          <p style="font-size: 16px; margin-bottom: 8px;">
            <span id="confirm-delete-fridge-name" style="font-weight: 700;"></span>
          </p>
          <p style="color: var(--text-sub);">を削除しますか？</p>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" onclick="App.cancelDeleteFridgeItem()">キャンセル</button>
          <button class="btn-primary btn-danger" onclick="App.deleteFridgeItem()">削除</button>
        </div>
      </div>
    </div>

    <!-- セット詳細モーダル -->
    <div id="modal-set-detail" class="modal hidden">
      <div class="modal-backdrop" onclick="App.closeModal()"></div>
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h2 class="modal-title" id="detail-set-name">セット名</h2>
          <button class="modal-close" onclick="App.closeModal()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body" id="detail-set-body">
          <!-- セット詳細 -->
        </div>
      </div>
    </div>

    <!-- 買い物リストポップアップ -->
    <div id="modal-shopping" class="modal hidden">
      <div class="modal-backdrop" onclick="App.closeModal()"></div>
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h2 class="modal-title">🛒 買い物リスト</h2>
          <button class="modal-close" onclick="App.closeModal()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body" id="shopping-popup-body">
          <!-- 買い物リストの中身 -->
        </div>
        <div class="modal-footer" id="shopping-popup-footer">
          <button class="btn-secondary" onclick="App.closeModal()">閉じる</button>
          <button class="btn-primary" id="btn-reflect-fridge" onclick="App.showReflectOptions()">
            <span class="material-icons-round">check</span>
            買った
          </button>
        </div>
      </div>
    </div>

    <!-- 冷蔵庫反映方法選択モーダル -->
    <div id="modal-reflect-options" class="modal hidden">
      <div class="modal-backdrop" onclick="App.closeModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">冷蔵庫に反映します</h2>
          <button class="modal-close" onclick="App.closeModal()">
            <span class="material-icons-round">close</span>
          </button>
        </div>
        <div class="modal-body">
          <p class="reflect-guide-text">反映方法を選んでください</p>
          <div class="reflect-options">
            <button class="btn-option" onclick="App.reflectCheckedToFridge()">
              <span class="material-icons-round">check_circle</span>
              <span>チェックした材料を反映</span>
            </button>
            <button class="btn-option" onclick="App.showReceiptUpload()">
              <span class="material-icons-round">receipt_long</span>
              <span>レシートから反映（準備中）</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- トースト -->
    <div id="toast" class="toast hidden">
      <span class="toast-message"></span>
    </div>

    <!-- ガイドモーダル（オンボーディング用） -->
    <div id="modal-guide" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-content modal-guide-content">
        <div class="guide-illustration" id="guide-illustration"></div>
        <h2 class="guide-title" id="guide-title"></h2>
        <p class="guide-description" id="guide-description"></p>
        <div class="guide-actions" id="guide-actions"></div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
